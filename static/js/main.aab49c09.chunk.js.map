{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","images/CloseIcon.svg","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/PopupWithDelete.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","onClick","onCardClick","type","onCardDelete","onCardLike","length","Main","avatar","onEditAvatar","id","aria-label","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onSubmit","onClose","closeIcon","title","children","buttonText","AddPlacePopup","useState","setTitle","setLink","e","preventDefault","onAddCard","autoComplete","placeholder","required","value","onChange","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","ImagePopup","PopupWithDelete","onDeleteCardConfirm","cardId","api","address","token","this","_address","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_checkResponse","method","body","JSON","stringify","data","addLike","deleteLike","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","isPopupWithDeleteOpen","setIsPopupWithDeleteOpen","cardIdWithDelete","setCardIdWithDelete","setCurrentUser","setCards","closeAllPopups","all","getUserData","getInitialCards","userInfo","cardInfo","catch","err","console","log","Provider","changeLikeCardStatus","newCard","c","createCard","updateAvatar","setUserData","onclose","deleteCard","filter","item","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aab49c09.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nfunction Header() {\r\n  return(\r\n    <header className=\"header page__header\">\r\n      <a className=\"logo\" href=\"#\" target=\"_self\"/>\r\n    </header>\r\n  )  \r\n}\r\n\r\nexport default Header","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = `elements__button-trash ${\r\n    isOwn ? \"elements__button-trash\" : \"elements__button-trash_hidden\"\r\n  }`;\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = `elements__button ${\r\n    isLiked ? \"elements__button_active\" : \"\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"elements__list-item\">\r\n      <img\r\n        className=\"elements__image\"\r\n        src={props.card.link}\r\n        alt={props.card.name}\r\n        onClick={handleClick}\r\n      />\r\n      <button\r\n        className={cardDeleteButtonClassName}\r\n        type=\"button\"\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <div className=\"elements__block\">\r\n        <h2 className=\"elements__title\">{props.card.name}</h2>\r\n        <div className=\"elements__like-group\">\r\n          <button\r\n            className={cardLikeButtonClassName}\r\n            type=\"submit\"\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <div className=\"elements__like-count\">{props.card.likes.length}</div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\n// import api from \"../utils/api\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <div className=\"page__container\">\r\n      <section className=\"profile page__profile\">\r\n        <div className=\"profile__container\">\r\n          <div className=\"profile__avatar-block\">\r\n            <img\r\n              className=\"profile__avatar\"\r\n              src={currentUser.avatar}\r\n              alt=\"аватар пользователя\"\r\n            />\r\n            <button\r\n              className=\"profile__avatar-button\"\r\n              onClick={props.onEditAvatar}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"profile__info-block\">\r\n            <div className=\"profile__edit-block\">\r\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n              <button\r\n                type=\"button\"\r\n                id=\"show-popup\"\r\n                className=\"profile__edit-button\"\r\n                aria-label=\"кнопка редактирования\"\r\n                onClick={props.onEditProfile}\r\n              />\r\n            </div>\r\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          className=\"profile__button\"\r\n          type=\"submit\"\r\n          id=\"show-card-popup\"\r\n          onClick={props.onAddPlace}\r\n        />\r\n      </section>\r\n\r\n      <section className=\"elements page__elements\">\r\n        <ul className=\"elements__list\">\r\n          {props.cards.map((card) => (\r\n            <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react'\r\n\r\nfunction Footer() {\r\n  return(\r\n    <footer className=\"footer page__footer\">\r\n    <p className=\"footer__copyright\">\r\n      &copy; 2021 Mesto Russia\r\n    </p>\r\n  </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","export default __webpack_public_path__ + \"static/media/CloseIcon.ba3d267d.svg\";","import React from 'react'\r\nimport closeIcon from '../images/CloseIcon.svg'\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_is-opened' : ''}`}>\r\n      <div className=\"popup__content\" onSubmit={props.onSubmit}>\r\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose}>\r\n          <img\r\n            src={closeIcon}\r\n            alt=\"кнопка закрытия попапа\"\r\n          />\r\n        </button>\r\n        <form className={`popup__field-form popup__field-form-${props.name}`} >         \r\n          <h2 className=\"popup__heading\">{props.title}</h2>\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__button\" >\r\n            {props.buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  ); \r\n}\r\n\r\nexport default PopupWithForm","import React from \"react\"\r\nimport PopupWithForm from \"./PopupWithForm\"\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [title, setTitle] = React.useState('')\r\n  const [link, setLink] = React.useState('')\r\n\r\n  function handleChangeTitle(e) {\r\n    setTitle(e.target.value)\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    props.onAddCard({\r\n      name: title,\r\n      link: link\r\n    });\r\n    setTitle('');\r\n    setLink('');\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm\r\n    name=\"card\"\r\n    title=\"Новое место\"\r\n    buttonText=\"Создать\"\r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    onSubmit={handleSubmit}\r\n  >\r\n    <input\r\n      className=\"popup__field-input popup__field-input-description\"\r\n      name=\"name\"\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      id=\"field-input-description\"\r\n      placeholder=\"Название\"\r\n      required\r\n      value={title || ''}\r\n      onChange={handleChangeTitle}\r\n    />\r\n    <span className=\"popup__input-error\" id=\"field-input-description-error\">\r\n      Вы пропустили это поле.\r\n    </span>\r\n    <input\r\n      className=\"popup__field-input popup__field-input-link\"\r\n      type=\"url\"\r\n      name=\"link\"\r\n      autoComplete=\"off\"\r\n      id=\"field-input-link\"\r\n      placeholder=\"Ссылка на картинку\"\r\n      required\r\n      value={link || ''}\r\n      onChange={handleChangeLink}\r\n    />\r\n    <span className=\"popup__input-error\" id=\"field-input-link-error\">\r\n      Введите ссылку.\r\n    </span>\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","import React from \"react\"\r\nimport PopupWithForm from \"./PopupWithForm\"\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\"\r\n\r\nfunction EditProfilePopup(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('')\r\n  const [description, setDescription] = React.useState('')\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about)\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  } \r\n  \r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className=\"popup__field-input popup__field-input-name\"\r\n        id=\"field-input-name\"\r\n        name=\"name\"\r\n        value={name || ''}\r\n        type=\"text\"\r\n        placeholder=\"Имя\"\r\n        autoComplete=\"off\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className=\"popup__input-error\" id=\"field-input-name-error\">\r\n        Вы пропустили это поле.\r\n      </span>\r\n      <input\r\n        className=\"popup__field-input popup__field-input-about\"\r\n        type=\"text\"\r\n        id=\"field-input-about\"\r\n        name=\"about\"\r\n        value={description || ''}\r\n        placeholder=\"О себе\"\r\n        autoComplete=\"off\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n        onChange={handleChangeDescription}\r\n      />\r\n      <span className=\"popup__input-error\" id=\"field-input-about-error\">\r\n        Вы пропустили это поле.\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n\r\n} \r\n\r\n\r\nexport default EditProfilePopup\r\n","import React from \"react\"\r\nimport PopupWithForm from \"./PopupWithForm\"\r\n\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"update\"\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit} \r\n    >\r\n      <input\r\n        ref={avatarRef}\r\n        className=\"popup__field-input popup__field-input-link\"\r\n        type=\"url\"\r\n        name=\"avatar\"\r\n        autoComplete=\"off\"\r\n        id=\"field-input-avatar\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required      \r\n      />\r\n      <span className=\"popup__input-error\" id=\"field-input-avatar-error\">\r\n        Введите ссылку.\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n\r\n}\r\n\r\nexport default EditAvatarPopup\r\n","import React from 'react'\r\nimport closeIcon from '../images/CloseIcon.svg'\r\n\r\nfunction ImagePopup(props) {\r\n  return(\r\n    <div className={`popup popup_type_image ${props.card.link ? 'popup_is-opened' : ''}`}>    \r\n      <div className=\"popup__content popup__content_content_image\">\r\n        <button type=\"button\" className=\"popup__close\">\r\n          <img src={closeIcon} alt=\"кнопка закрытия попапа\" onClick={props.onClose} />\r\n        </button>\r\n        <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\r\n        <p className=\"popup__caption\">{props.card.name}</p>\r\n\r\n      </div>\r\n    </div>\r\n  ) \r\n}\r\n\r\n\r\nexport default ImagePopup","import React from 'react'\r\nimport PopupWithForm from '../components/PopupWithForm'\r\n\r\nfunction PopupWithDelete(props) {\r\n  function handleSubmit (e) {\r\n    e.preventDefault();\r\n    props.onDeleteCardConfirm(props.cardId);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"delete\" title=\"Вы уверены\" buttonText=\"Да\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}></PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default PopupWithDelete","class Api {\r\n  constructor({ address, token }) {\r\n    this._address = address;\r\n    this._token = token;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._address}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._address}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  setUserData({ name, about, avatar }) {\r\n    return fetch(`${this._address}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n        avatar,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  \r\n  updateAvatar(data) {\r\n    return fetch(`${this._address}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  createCard({ name, link }) {\r\n    return fetch(`${this._address}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._address}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addLike(id) {\r\n    return fetch(`${this._address}/cards/likes/${id}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._address}/cards/likes/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    if(!isLiked) {\r\n      return this.deleteLike(id)\r\n    } else {\r\n      return this.addLike(id)\r\n    }\r\n  }\r\n}\r\n\r\n const api = new Api({\r\n  address: \"https://mesto.nomoreparties.co/v1/cohort-24\",\r\n  token: \"4efae440-5715-4ca9-8417-962742ac588e\",\r\n});\r\n\r\nexport default api","import React from \"react\";\nimport Header from \"../components/Header\";\nimport Main from \"../components/Main\";\nimport Footer from \"../components/Footer\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport ImagePopup from \"../components/ImagePopup\";\nimport PopupWithDelete from \"../components/PopupWithDelete\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    name: \"\",\n    link: \"\",\n  });\n  const [isPopupWithDeleteOpen, setIsPopupWithDeleteOpen] = React.useState(false);\n  const [cardIdWithDelete, setCardIdWithDelete] =React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserData(), api.getInitialCards()])\n      .then(([userInfo, cardInfo]) => {\n        setCurrentUser(userInfo);       \n        setCards(cardInfo);       \n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли у карточки лайк, поставленный текущим пользователем\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((cards) =>\n          cards.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    setIsPopupWithDeleteOpen(true);\n    setCardIdWithDelete(card);    \n  }\n\n \n  function handleUpdateUser(data) {\n    api\n      .setUserData(data)\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(link) {\n    api\n      .updateAvatar(link)\n        .then((link) => {\n        setCurrentUser(link);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api.createCard(card)\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err));\n  }\n    \n  function handleDeleteCardConfirm(card) {    \n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter((item) => item !== card));\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err));\n  }\n\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n    setIsPopupWithDeleteOpen(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <>\n        <div className=\"page__container\">\n          <Header />\n          <Main\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}\n          />\n\n          <Footer />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddCard={handleAddPlaceSubmit} />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <PopupWithDelete isOpen={isPopupWithDeleteOpen} onclose={closeAllPopups} onDeleteCardConfirm={handleDeleteCardConfirm} cardId={cardIdWithDelete} />\n          <ImagePopup\n            card={selectedCard !== null && selectedCard}\n            onClose={closeAllPopups}\n          />\n        </div>\n      </>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}